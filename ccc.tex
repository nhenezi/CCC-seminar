\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{color}
\usepackage{longtable}
\usepackage{tabu}

\definecolor{codegray}{gray}{0.9}
\newcommand{\bold}[1]{\textbf{#1}}
\newcommand{\category}[1]{\bold{\emph{#1}}}
\newcommand{\code}[1]{
  \begin{align*}
    \texttt{#1}
  \end{align*}
  }
\theoremstyle{definition}
\newtheorem{definition}{Definicija}
\newtheorem{primjer}{Primjer}

\begin{document}
  \begin{definition}
    Kategorija $G$ se sastoji od:
    \begin{itemize}
      \item kolekcije objekata $Obj$
      \item kolekcije strelica $Arw$
      \item pridruzivanja $Arw \xrightarrow{source} Obj$
      \item pridruzivanja $Arw \xrightarrow{target} Obj$
      \item pridruzivanja (identiteta) $Obj \xrightarrow{id} Arw$ takvog da
      za $B \xrightarrow{id} id_B$ vrijedi:
        \begin{equation}
          target(id_B) = source(id_B) = B
        \end{equation}
      \item pridruzivanja (kompozicija) $Arw \times Arw \xrightarrow{\circ}
      Arw$ takvog da za \\ $(f, g) \xrightarrow{\circ} f \circ g$ vrijedi:
        \begin{align}
          source(f) &= target(g) \\
          source(f \circ g) &= source(g) \\
          target(f \circ g) &= target(f)
        \end{align}
    \end{itemize}
    Takvih da pridruzivanja identiteta ($id$) i kompozicija ($\circ$) moraju
    zadovoljavati:
    \begin{itemize}
      \item svojstvo identiteta. Za svaku strelicu $A \xrightarrow{f} B$ vrijedi:
        \begin{align}
          id_B \circ f = f = f \circ id_A
        \end{align}
      \item svojstvo asocijativnost. Za sve strelice $A \xrightarrow{f} B
      \xrightarrow{g} C \xrightarrow{h} D$ vrijedi:
        \begin{align}
          (h \circ g) \circ f = h \circ (g \circ f)
        \end{align}
    \end{itemize}
  \end{definition}
  Kada zelimo posebno naglasiti kojoj kategoriji pripadaju strelice i objekti
  onda cemo umjesto $Obj$ i $Arw$ pisati $Obj_G$ i $Arw_G$.
  Sada cemo detaljno raspisati nekoliko primjera kategorija.
  \begin{primjer}
    \bold{Monoid} je uredena trojka $(M, \cdot_M, 1_M)$ gdje je $M$ skup, $1_M
    \in M$, $\cdot_M$ binarna operacija na $M$ za koju vrijedi da za svaki $a, b, c \in M$:
    \begin{equation*}
      (a \cdot_M b) \cdot_M c = a \cdot_M (b \cdot_M c)
    \end{equation*}
    \begin{equation*}
      1_M \cdot_M a = a = a \cdot_M 1_M
    \end{equation*}
    Neutralni element $1_M$ i binarnu operaciju $\cdot_M$ cemo uglavnom pisati
    kao $1$ i $\cdot$ osim ako nece biti jasno iz konteksta na kojem monoidu
    su defnirani.
    Kada monoid promatramo kao kategoriju tada su objekti elementi skupa M, a
    za dva monoida $M, N$ definiramo strelicu $M \xrightarrow{\delta} N$ kao
    funkciju za koju vrijedi da za svaki $a, b \in M$ vrijedi:
    \begin{equation*}
      \delta(a \cdot b) = \delta(a) \cdot \delta(b)
    \end{equation*}
    \begin{equation*}
      \delta(1) = 1
    \end{equation*}
    i zovemo ju \bold{morfizam}.
    Pokazimo da je kompozicija dva morfizma morfizam.
    Neka su $a, b \in Obj_M$ i $M \xrightarrow{f} N \xrightarrow{g} P$, tada vrijedi:
    \begin{equation*}
      (g \circ f)(a \cdot b) = g(f(a \cdot b)) = g(f(a) \cdot f(b)) = g(f(a))
      \cdot g(f(b)) = (g \circ f)(a) \cdot (g \cdot f)(b)
    \end{equation*}
    Za monoid $M$ definiramo identitetu $id_M$ kao standardnu funkciju
    identitetu, tj. za svaki $a \in Obj_M$ vrijedi:
    \begin{equation*}
      id_M(a) = a
    \end{equation*}
    Pokazimo sada da tako definiran strelice na monoidu zadovoljavaju
    svojstvo identiteta i asocijativnosti za kategorije.
    Neka je $a \in Obj_M$ i $M \xrightarrow{f} N$, tada vrijedi:
    \begin{equation*}
      (id_N \circ f)(a) = id_N(f(a)) = f(a) = f(id_M(a)) = (f \circ id_M)(a)
    \end{equation*}
    Pa je svojstvo identiteta zadovoljeno.
    Neka su $M, N, P, R$ monoidi, $M \xrightarrow{f} N \xrightarrow{g} P \xrightarrow{h} R$
    i $a \in Obj_M$, tada vrijedi:
    \begin{equation*}
      ((h \circ g) \circ f)(a) = h(g(f(a))) = (h \circ (g \circ f))(a)
    \end{equation*}
    zbog asocijativnosti komozicije funkcija, pa monoide mozemo promatrati kao
    kategorije. Kategoriju monoida oznacavamo sa \bold{Mon}.
  \end{primjer}

  \begin{primjer} \textbf{Hask} je kategorija Haskellovih tipova i funkcija. U
  \textbf{Hask} kategoriji objekti su Haskellovi tipovi koje oznacavamo velikim
  slovima:
    \code{A, B, C, ...}
  Strelice u \textbf{Hask}-u su Haskellove funkcije koje oznacavamo malim
  slovima:
    \code{f, g, h, ...}
  Strelicu $A \xrightarrow{f} B$ u \textbf{Hask}-u zapisujemo:
    \code{f :: A -> B}
  Funkcije
    \code{
      f :: A -> B, g :: A -> B
      }
  su jednake ako za svaki \texttt{x} vrijedi:
    \code{ f x = g x }
  Kompoziciju ($A \xrightarrow{f \circ g} C$) zapisujemo:
    \code{(f.g) :: A -> C}
    i definiramo kao standardnu funkcijsku kompoziciju, tj.:
    \code{(f.g) x = f (g x)}
  Pa se lako pokaze da vrijedi svojstvo asocijativnosti.
  Identiteta je u \category{Hask}-u dana funkcijom:
    \code{ id x = x }
  te se lako vidi da vrijedi:
    \code{ id.f = f = id.f }
  \end{primjer}

  \begin{center}
  \begin{longtabu}{l l l}  \vspace{1em}
    Kategorija & Objekti & Strelice \\
      \category{Set} & skupovi & totalne funkcije \\
      \category{Pfn} & skupovi & parcijalne funkcije \\
      \category{Mon} & monoid & morfizmi \\
      \category{Sgp} & polugrupe & morfizmi \\
      \category{CMon} & komutativni monoidi & morfizmi \\
      \category{Grp} & grupe & morfizmi \\
      \category{AGrp} & abelove grupe & morfizmi \\
      \category{Rng} & prstenovi & morfizmi \\
      \category{Top} & topoloski prostori & neprekidna preslikavanja \\
      \category{Vec$_K$} & Vektorski prostori nad poljem $K$& linearna preslikavanja \\

    \end{longtabu}
  \end{center}
\end{document}
